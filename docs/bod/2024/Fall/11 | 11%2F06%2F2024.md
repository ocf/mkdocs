# 11 | 11/06/2024

Directors in attendance:

* bplate
* danliu
* fengyihuang
* jaysa
* jedakrisnell
* jingwenyang
* laksith
* lic
* rsang
* sawansri
* storce
* tabi
* erdaifuu
* lukepeters
* lemurseven


Guests in attendance:

* njha
* toke
* knivesng
* alexbli
* jonquitoriano\n


Meeting Minutes: laksith

# Agenda

## RT

jaysa: ASUC instantcard vhost

* A separate ASUC sub-domain that we can also use

Joe: Add mathdrp to apphost


## Opstaff

* I can't reiterate this enough: **clean up after the lab**
  * We have this space as a privilege. The fact that we can come in after hours and hang out is something not every student or organization can have, especially after hours. We should respect the space as much as possible, which means ensuring that everything isn't a mess/trash-filled
  * I am not calling out anyone in particular, but this should be a community effort.
* Pay period 5 complete this weekend
* Academic holiday on Monday → OCF will be closed
  * Enjoy your three-day weekend :)
  * jaysa: website has also been updated
* Any way to make sure only letter-sized jobs get printed?
  * A4 and other paper layouts make it so we have to fix it manually → backs up jobs
  * laksith: probably there's a print job filtering thing somewhere…
* Middle printer screen is broken
  * jaysa: will email UCSF
* Only one scanner is working (the middle one)
  * Please fix!
  * new nix config doesn't have scanning software
* Can we make sure that the computers are functional? I feel like half of them aren't working at some points
  * Not meant to be a burden, but there are times when people need to look around for a computer
  * Usually DP / HDMI issues - maybe do opstaff training for this?
  * laksith: look at pepper, logins simply don't work for some reason. and there's another computer that's overheating??
* Project updates: where are the laminator sheets?, more work on (Opstaff-specific?) shirts, Opstaff cheat sheet, more marketing
* Anyone down for an impromptu Jollibee social on Sunday/soon? LMAO

## Administrivia

* jaysa: wrote blurb for ASUC newsletter abt OCF
  * It's a new thing they're piloting not sure if it'll exist. Advertised the OCF and the DeCal
* sticker voting (yes we will actually buy them tonight)! [fill out this form by 8:10PM](https://forms.gle/7gyCp5Fwe2sze47B7)
  * We'll order 100 die cut stickers 25 of each. The next point will make it work
* jaysa: keychron designs will get to it next week
* jaysa: talking with our program advisor for the OCF fee.
  * Our stance is still no. We don't want to be adding additional fees… \n

## Site

* laksith: Home-Manager
  * Have a working home-manager setup that works for populating dotfiles, and installing custom user packages.
  * Doesn't work for KDE just yet, but will work for a user install of sway!
  * Currently only works on graphical sessions (The next point NFS will make it work everywhere!)
  * Absolutely not user friendly tho
    * Currently staff / users will have to edit a nix file in their remote
    * No documentation at the moment - will fix this
  * Currently will create a `~/remote/.home-manager` directory at login for all users with a basic template config
    * should we instead just create docs for users to manually create the template directory and only load in home-manager if the directory already exists?
    * the location can be anywhere on remote, do people have opinions in where this should be located?
  * njha: I am anti home manager (I don't understand it) but someone should convince me it's good (pls explain it to me).
    * laksith: in it's most simple state you can think of it as a declarative version of nix-env. It also has the added functionality of being able to manage dotfiles in the users home dir.
    * I feel like it's a nice to have for us cause we can allow users to install packages that doesn't affect the entire system and is only available to them. So if people want to create dev enviornmets etc… on the OCF desktops it would be pretty straightforward. The idea is to make the desktops themselves more useful as a place where people can get work done, rather than being a printing portal.
    * The dotfiles (technically any kind of file) management is also pretty great as it allows for declarative permanence within the home directory of users. So by default the home dir is wiped on restart but if the user chooses to explicitly preserve specific files they can. We kinda do this at the moment using desktoprc by running a shell script that can copy / symlink files from the remote on user login. This would just make it declarative with nix taking care of it rather than using a bash script.
  * BoD: people generally like this idea…
  * jaysa: we need to get a GUI going… to make it a lot more accessible to people in general
  * jq: maybe a OCF shell script like approve etc… that will allow technically ppl without nix experience to install pkgs etc…


* laksith: Thoughts on moving to nfs mounts for user remotes on desktops (for new desktops):
  * desktop_changes: <https://github.com/ocf/nix/pull/8>
  * server_changes: <https://github.com/ocf/puppet/pull/1436>
  * Tested on Pumpkin + Bandit and it works reliably
  * We'll be mounting the `/homes` nfs share to `/remote` on all the desktops
  * And symlink `$HOME/remote` to `/remote/$HOME` when the user logs in
  * Pros:
    * Remote currently will only mount in graphical sessions, this will allow it to be auto-mounted in ssh / tty sessions
    * This will also allow us to load in home-manager configs in a tty and basically allow staff to run whatever setup they want
    * NFS has performance benefits over FUSE
    * I personally don't like SSHFS loll, it feels way too jank
    * njha: This is a good idea! I think previously we didn't want this because we were scared of mounting NFS from too many places but I think in practice this is not a real concern. O(num desktops) is a very small number. Unrelated: I should do a small talk about cursed things I learned about NFS and autofs or something.
      * laksith: yea was a bit concerned about too many connections but doing minor research showed it was probably fine. Also the config sets it up in a way where the remote dir is mounted only when accessed and times out after 10mins of inactivity. So, realistically the total number of connections should always be less than 30.
      * njha: I would not be worried about num connections at all. I'm very high confidence this just works… you're mounting user homes over gigabit LAN everything is going to be okay. The automount daemon is pretty cursed software so I would even suggest trying to just mount all of /home at once. It's fine either way you want to do it though.
      * laksith: ack! will rip it out after BoD if other ppl don't have opinions.
  * Cons:
    * idk nothing that's obvious to me at the moment
    * njha: You might want to try Ceph? I think what we wanted to do was retire NFS and replace it with a CephFS volume. If Ceph is production enough by this point u should do it :)) Although to be fair this involves copying all user directories to Ceph. You guys also have very tiny amounts of data so this is nothing a little rsync can't fix.
      * laksith: I run Ceph in prod (if u can consider jank homelab prod) but tbh don't fully understand it at the moment loll. Need to spend a bit more time poking around. Will def look into this when I get the time.
* Joe: project/ bug list on outline??
  * jq: trying to refactor all the docs for the OCF. The user facing docs should be actually helpful and should remove support ticket workloads.
    * Internal staff docs should be the bridge between new staff and getting involved.
    * The culture at the moment is to get something that you want to do and just do it.
    * Potentially bring back a bug tracker etc… that new staff can come in a do. The cons is that if old staffers do it it'll take a trivial amount of time to complete. The pro is that it ensures that the OCF is more maintainable
    * Writing docs need not be something too formal. It can be something as simple as notes that you've written down during the project development. It can just be a way for ppl to understand the thought process etc… and allow for others to pick up things.
    * Add a sync up during BoD to keep track of new staff projects to make sure that these projects are on track.
    * jaysa: this applies even for non-technical staff… just write notes of things you've worked on / working on. we have a drive that people can access.
      * we should move docs on gDrive to outline.
  * lemurseven: there was one from fall 2023 (and other past semesters)
* jaysa: once doc sync is done we'll more over the BoD notes etc…
* web printing? —L7
  * we get a lot of people just occupying the desks for printing.
  * possibly create a online print queue that people will get a qr code and scan in person at the lab to release the job.
  * stroce: will this create a lot of people printing from
  * lukepeters: a release code
  * l7: new staff to add it to the website?

[FALL 2024 PROJECT LIST](https://github.com/orgs/ocf/projects/11)

## Internal & External

* elliot tech talk after BoD!
* abizer tech talk Dec 4 - any requests for topics?
  * Free slide show night!
* jeda: Jollibee

## Marketing

* Hoodie? Yes
* Can't think of much for the keycap design.
* jaysa: …will do that as well


## Decal

* There's too little time in the semester smh - wanted to do a lot more cool things big sads
* Regular DeCal had almost no one show up - Election Day LMAO
* ATDP
  * Had a short meeting with Dev - was pretty happy with the current state of the new desktops
  * Wanted to have some git configs populated by default + seems like they had a custom set of icons for the atdpstudent user that no longer works post Nix
    * Should be trivial with the home manager setup if we want to use that.

  \
* jaysa: make attendance required. reduce enrollment to like 30. grading is a massive pain.
  * A lot of ppl who can't attend so if we make this required maybe ppl interested will drop.  \n

## Buysheet

[ocf.io/buysheet](https://ocf.io/buysheet)


BoD adjourned at 19:54